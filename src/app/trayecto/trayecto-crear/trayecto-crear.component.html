<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://weareoutman.github.io/clockpicker/dist/bootstrap-clockpicker.min.css">
  <script src="http://code.jquery.com/jquery-2.2.0.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script src="http://weareoutman.github.io/clockpicker/dist/bootstrap-clockpicker.min.js"></script>
</head>

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <br />
      <h2 class="text-center">Bienvenido a Trayecto</h2>
      <br />
      <div class="row justify-content-center">
      <form
        name="trayecto"
        (ngSubmit)="f.form.valid && createTrayecto()"
        #f="ngForm"
        novalidate
      >
        <div class="col-sm-6">
        <div class="form-group">
          <label for="fechaInicial"><b>Fecha Inicial</b></label>
          <input
            class="form-control"
            id="fechaInicial"
            name="fechaInicial"
            [(ngModel)]="trayecto.fechaInicial"
            ngbDatepicker
            #d="ngbDatepicker"
            (click)="d.toggle()"
            #fechaInicial="ngModel"
            [ngClass]="{
              'is-invalid': f.submitted &&n (fechaFinal.untouched || fechaFinal.invalid)
            }"
            required
          />
          <div class="invalid-feedback">
            <div>Falta la fecha inicial</div>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group">
          <label for="fechaFinal"><b>Fecha Final</b></label>
          <input 
            class="form-control"
            id="fechaFinal"
            name="fechaFinal"
            [(ngModel)]="trayecto.fechaFinal"
            ngbDatepicker
            #d="ngbDatepicker"
            (click)="d.toggle()"
            #fechaFinal="ngModel"
            [ngClass]="{
              'is-invalid': f.submitted &&n (fechaFinal.untouched || fechaFinal.invalid)
            }"
            required
          />
          <div class="invalid-feedback">
            <div>Falta la fecha final</div>
          </div>
        </div>
      </div>
        <div class="form-group" *ngIf="ciudades != null">
          <label for="origen"><b>Origen</b></label>
          <select
            class="form-control"
            name="origen"
            form="search"
            ng-Model="trayecto.origen"
          >
            <option value="" selected disabled hidden
              >-----Seleccione Aqui------</option
            >
            <option
              *ngFor="let ciudad of ciudades"
              value="{{ trayecto.origen }}"
              >{{ ciudad.nombre }}</option
            >
          </select>
        </div>

        <div class="form-group" *ngIf="ciudades != null">
          <label for="destino"><b>Destino</b></label>
          <select
            class="form-control"
            name="destino"
            form="search"
            ng-Model="trayecto.destino"
          >
            <option value="" selected disabled hidden
              >-----Seleccione Aqui------</option
            >
            <option
              *ngFor="let ciudad of ciudades"
              value="{{ trayecto.destino }}"
              >{{ ciudad.nombre }}</option
            >
          </select>
        </div>

        <div class="form-group">
          <label for="cupos"><b>Cupos disponibles</b></label>
          <input
            type="number"
            name="cupos"
            class="form-control"
            id="cupos"
            [(ngModel)]="infoTrayecto.cupos"
            required
          />
          <div class="invalid-feedback">
            <div>Faltan los cupos disponibles</div>
          </div>
        </div>

        <div class="form-group">
          <label for="costo"><b>Costo</b></label>
          <input
            type="number"
            name="costo"
            class="form-control"
            id="costo"
            [(ngModel)]="infoTrayecto.costo"
            required
          />
          <div class="invalid-feedback">
            <div>Falta el costo</div>
          </div>
        </div>

        

        <div class="form-group">
          <label for="hsalida"><b>Hora de salida</b></label>
          <div class="form-group">
              <label for="hsalida"><b>Hora de salida</b></label>
              <ngb-timepicker [ngModel]="horaSalida" [meridian]=true [ngModelOptions]="{standalone: true}"             required
              ></ngb-timepicker>
          </div>
        </div>


        <div class="form-group">
            <label for="hsalida"><b>Hora de salida</b></label>
            <ngb-timepicker [ngModel]="horaSalida" [meridian]=true [ngModelOptions]="{standalone: true}"></ngb-timepicker>
        </div>

        <br>
        <a class="badge badge-pill badge-primary" data-toggle="collapse" href="#collapse" role="button" aria-expanded="false" aria-controls="collapseExample" toggle="false">
            Mas Opciones
          </a>
          
        <div id="collapse" class="collapse">
        <div class="form-group">
            <label for="combustible"><b>Combustible</b></label>
            <input
              type="number"
              name="combustible"
              class="form-control"
              id="combustible"
              [(ngModel)]="infoTrayecto.combustible"
            />
          </div>
        <div class="form-group" *ngIf="ciudades != null">
          <label for="parada"><b>Paradas adicionales</b></label>
          <select
            class="form-control"
            name="parada"
            form="search"
            ng-Model="infoTrayecto.parada"
          >
            <option value="" selected disabled hidden
              >-----Seleccione Aqui------</option
            >
            <option
              *ngFor="let ciudad of ciudades"
              value="{{ ciudad.nombre }}"
              >{{ ciudad.nombre }}</option
            >
          </select>
        </div>

        <div class="form-group" *ngIf="peajes != null">
          <label for="destino"><b>Peajes</b></label>
          <select
            class="form-control"
            name="peajes"
            form="search"
            ng-Model="infoTrayecto.peaje"
          >
            <option value="" selected disabled hidden
              >-----Seleccione Aqui------</option
            >
            <option *ngFor="let peaje of peajes" value="{{ peaje.nombre }}">{{
              peaje.nombre
            }}</option>
          </select>
        </div>
      </div>
        <div class="row form-inline justify-content-center align-self-center">
          <button type="submit" class="btn btn-primary">Create</button>
          <div class="divider"></div>
          <button
            type="button"
            class="btn btn-danger"
            (click)="cancelCreation()"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
      <br />
    </div>
  </div>
</div>
